# Automaker Environment Configuration
# =====================================
# Copy this file to .env and configure your settings.
# Most settings have sensible defaults and are optional.
#
# For detailed documentation, see the README.md and apps/server/.env.example

# ============================================
# AUTHENTICATION (Choose One Method)
# ============================================

# Method 1: Claude CLI OAuth (Recommended - uses your Anthropic subscription)
# ---------------------------------------------------------------------------
# Install and authenticate the Claude Code CLI: https://code.claude.com/docs/en/quickstart
# Automaker will automatically detect and use your CLI credentials.
# No additional configuration needed!

# Method 2: API Key Authentication (Pay-per-use)
# ----------------------------------------------
# Your Anthropic API key for Claude models
# ANTHROPIC_API_KEY=sk-ant-...

# Authentication mode for Anthropic API (default: auth_token)
# - auth_token: Uses CLI OAuth (subscription mode). API keys ignored.
# - api_key: Uses stored or environment API key (pay-per-use mode).
# AUTOMAKER_ANTHROPIC_AUTH_MODE=auth_token

# ============================================
# OPTIONAL - Additional AI Providers
# ============================================

# OpenAI API key for Codex/GPT models
# OPENAI_API_KEY=sk-...

# Cursor API key for Cursor models
# CURSOR_API_KEY=...

# OAuth credentials (extracted automatically from CLI)
# CLAUDE_OAUTH_CREDENTIALS=
# CURSOR_AUTH_TOKEN=

# ============================================
# OPTIONAL - Server Configuration
# ============================================

# Host to bind the server to (default: 0.0.0.0)
# Use 0.0.0.0 to listen on all interfaces (recommended for Docker/remote access)
# Use 127.0.0.1 or localhost to restrict to local connections only
# HOST=0.0.0.0

# Port to run the API server on (default: 3008)
# PORT=3008

# Data directory for sessions and metadata (default: ./data)
# DATA_DIR=./data

# Enable HTTP request logging (default: false)
# ENABLE_REQUEST_LOGGING=false

# ============================================
# OPTIONAL - Security & Authentication
# ============================================

# API key for authenticating requests (leave empty to auto-generate)
# If set, all API requests must include X-API-Key header
# AUTOMAKER_API_KEY=

# Skip the login prompt entirely in development (default: false)
# WARNING: Disabled when NODE_ENV=production for security
# Use this for local development to avoid copy/pasting API keys
# AUTOMAKER_AUTO_LOGIN=true

# Disable authentication entirely (default: false)
# Use for local-only development or trusted networks
# WARNING: Anyone who can reach the server can access all features
# AUTOMAKER_DISABLE_AUTH=false

# Root directory for projects and file operations
# If set, users can only create/open projects and files within this directory
# Recommended for sandboxed deployments (Docker, restricted environments)
# Example: ALLOWED_ROOT_DIRECTORY=/projects
# ALLOWED_ROOT_DIRECTORY=

# CORS origin - which domains can access the API
# Use "*" for development, set specific origin for production
# CORS_ORIGIN=http://localhost:3007

# ============================================
# OPTIONAL - Terminal Access
# ============================================

# Enable/disable terminal access (default: true)
# TERMINAL_ENABLED=true

# Password to protect terminal access (leave empty for no password)
# If set, users must enter this password before accessing terminal
# TERMINAL_PASSWORD=

# ============================================
# OPTIONAL - Development & Debugging
# ============================================

# Skip Electron in dev mode (for web-only development)
# VITE_SKIP_ELECTRON=false

# Auto-open DevTools in Electron
# OPEN_DEVTOOLS=false

# Skip the sandbox warning dialog on startup (default: false)
# Set to "true" to disable the warning entirely (useful for dev/CI environments)
# AUTOMAKER_SKIP_SANDBOX_WARNING=false

# Disable TTS in local Claude hooks for Automaker-spawned Claude CLI processes
# AUTOMAKER_DISABLE_HOOK_TTS=true

# Enable raw output logging for agent streams (default: false)
# When enabled, saves unprocessed stream events to raw-output.jsonl
# in each feature's directory (.automaker/features/{id}/raw-output.jsonl)
# Useful for debugging provider streaming issues or improving log parsing
# Note: This adds disk I/O overhead, only enable when debugging
# AUTOMAKER_DEBUG_RAW_OUTPUT=false

# Enable mock agent mode for testing (CI/CD environments)
# AUTOMAKER_MOCK_AGENT=false

# ============================================
# OPTIONAL - Docker / CI Configuration
# ============================================

# User/Group IDs for Docker volume permissions
# Override with: UID=$(id -u) GID=$(id -g) docker-compose build
# UID=1001
# GID=1001

# GitHub token for git push/PR operations in Docker
# Get your token with: gh auth token
# GH_TOKEN=gho_your_github_token_here
